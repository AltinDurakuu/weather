{"version":3,"file":"app.js","sources":["app.js"],"sourcesContent":["const APIURL = \"https://api.openweathermap.org/data/2.5/\";\r\nconst ajaxHTML = document.getElementById('ajax-data');\r\nlet type;\r\nlet city;\r\n\r\nlet searchForm = document.getElementById(\"searchBtn\");\r\nsearchForm.addEventListener(\"click\", function(e){\r\n  e.preventDefault();\r\n  type = document.getElementById('type').value;\r\n  city = document.getElementById('querySearch').value;\r\n  getPosts(type, city);\r\n});\r\n\r\n\r\nfunction getPosts(type, city) {\r\n   ajaxHTML.innerHTML = '';\r\n  fetch(`${APIURL}${type}?q=${city}&appid=5990bc472b4bb74ee8d0e6b86913e0f9&units=metric`)\r\n  .then(response => response.json())\r\n  .then(posts => {\r\n  console.log(posts);\r\n  if(type == 'weather'){\r\n      ajaxHTML.appendChild(renderPosts(posts));\r\n    }else{\r\n      let cityname = posts.city.name;\r\n      posts.list.forEach(post => {\r\n        ajaxHTML.appendChild(renderPostsForecast(cityname, post))\r\n      });\r\n    }\r\n  })\r\n  .catch(error => console.error(error));\r\n}\r\n\r\nfunction renderPosts(post) {\r\n \r\n  const postData = \r\n          `<div class=\"card-body\">`+\r\n            `<h5 class=\"card-title mb-5\">${post.name}</h5>`+\r\n            `<ul class=\"list-group\">`+\r\n              `<li class=\"list-group-item\">Weather is <strong>${post.weather[0].main} - ${post.weather[0].description}</strong></li>`+\r\n              `<li class=\"list-group-item\">Current temperature is <strong>${post.main.temp}째C</strong></li>`+\r\n              `<li class=\"list-group-item\">Min temperature is <strong>${post.main.temp_min}째C</strong></li>`+\r\n              `<li class=\"list-group-item\">Max temperature is <strong>${post.main.temp_max}째C</strong></li>`+\r\n              `<li class=\"list-group-item\">Wind speed is <strong>${post.wind.speed} m/s</strong></li>`+\r\n            `</ul>`+\r\n        `</div>`;\r\n  \r\n  const postWrapper = document.createElement('div');\r\n  postWrapper.classList.add('card');\r\n  postWrapper.style.width = \"100%\"\r\n  postWrapper.innerHTML = postData;\r\n\r\n  return postWrapper;\r\n}\r\nfunction renderPostsForecast(cityname, post) {\r\n \r\n  const postData = \r\n  `<div class=\"card-body\">` +\r\n  `<h5 class=\"card-title mb-5\">${cityname}</h5>` +\r\n  `<ul class=\"list-group\">` +\r\n      `<li class=\"list-group-item\">On <strong>${post.dt_txt}</strong></li>`+\r\n      `<li class=\"list-group-item\">It will be <strong>${post.main.temp}째C</strong></li>` +\r\n      `<li class=\"list-group-item\">Wind speed is <strong>${post.wind.speed} m/s</strong></li>` +\r\n  `</ul>` +\r\n `</div>`;\r\n  \r\n  const postWrapper = document.createElement('div');\r\n  postWrapper.classList.add('card');\r\n  postWrapper.style.width = \"100%\"\r\n  postWrapper.innerHTML = postData;\r\n\r\n  return postWrapper;\r\n}\r\n"],"names":["APIURL","ajaxHTML","document","getElementById","type","city","searchForm","getPosts","innerHTML","fetch","then","response","json","posts","console","log","appendChild","renderPosts","cityname","name","list","forEach","post","renderPostsForecast","catch","error","postData","weather","main","description","temp","temp_min","temp_max","wind","speed","postWrapper","createElement","classList","add","style","width","dt_txt","addEventListener","e","preventDefault","value"],"mappings":"AAAA,MAAMA,OAAS,2CACTC,SAAWC,SAASC,eAAe,aACzC,IAAIC,KACAC,KAEAC,WAAaJ,SAASC,eAAe,aASzC,SAASI,SAASH,EAAMC,GACrBJ,SAASO,UAAY,GACtBC,SAAST,SAASI,OAAUC,yDAC3BK,KAAKC,GAAYA,EAASC,QAC1BF,KAAKG,IAEN,GADAC,QAAQC,IAAIF,GACD,WAART,EACCH,SAASe,YAAYC,YAAYJ,QAC9B,CACH,IAAIK,EAAWL,EAAMR,KAAKc,KAC1BN,EAAMO,KAAKC,QAAQC,IACjBrB,SAASe,YAAYO,oBAAoBL,EAAUI,SAIxDE,MAAMC,GAASX,QAAQW,MAAMA,IAGhC,SAASR,YAAYK,GAEbI,EACE,yDACiCJ,EAAKH,YACpC,4EACoDG,EAAKK,QAAQ,GAAGC,UAAUN,EAAKK,QAAQ,GAAGE,0FAC9BP,EAAKM,KAAKE,iFACdR,EAAKM,KAAKG,qFACVT,EAAKM,KAAKI,gFACfV,EAAKW,KAAKC,0BACjE,cAGV,MAAMC,EAAcjC,SAASkC,cAAc,OAK3C,OAJAD,EAAYE,UAAUC,IAAI,QAC1BH,EAAYI,MAAMC,MAAQ,OAC1BL,EAAY3B,UAAYkB,EAEjBS,EAET,SAASZ,oBAAoBL,EAAUI,GAE/BI,EACN,yDAC+BR,SAC/B,oEAC8CI,EAAKmB,yEACGnB,EAAKM,KAAKE,4EACPR,EAAKW,KAAKC,0BACnE,cAGA,MAAMC,EAAcjC,SAASkC,cAAc,OAK3C,OAJAD,EAAYE,UAAUC,IAAI,QAC1BH,EAAYI,MAAMC,MAAQ,OAC1BL,EAAY3B,UAAYkB,EAEjBS,EAhET7B,WAAWoC,iBAAiB,QAAS,SAASC,GAC5CA,EAAEC,iBACFxC,KAAOF,SAASC,eAAe,QAAQ0C,MACvCxC,KAAOH,SAASC,eAAe,eAAe0C,MAC9CtC,SAASH,KAAMC"}